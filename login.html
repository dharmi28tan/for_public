<!DOCTYPE html>
<html>
<head>
	<title>Login Page</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<style>
		body{
			background-image: url("main.jfif");
			background-repeat: no-repeat;
			background-size: cover;
		}
		.bg{
			background: rgba(240, 240, 240, 0.9);
		}
	</style>
	<script>
		var app = angular.module('myApp', []);
		app.controller('myCtrl', function($scope, $http) {
			$scope.dataMatch = function() {
			    $http.post("login.php",
			    	{'email': $scope.email,'pass': $scope.pass})
			    .then(function mySuccess(response) {
					if (response.data.message === "success"){
				    	$scope.statuscode = response.data.status1;
				    	stat = $scope.statuscode;
				    	alert(stat);
			    		window.location="homepage.html";
				    }else{
				    	alert("Something went wrong...");
				    }
				});
			}
		});
	</script>
</head>
<body ng-app="myApp" ng-controller="myCtrl"> 
<div class="container">
<div class="col-4 ms-4 mt-5 bg">
    <h2 class="py-3 text-center">Login</h2> 

    <div class="text-center text-danger">
	    <span ng-show="users.email.$dirty && users.email.$invalid"> 
	        <span ng-show="users.email.$error.pattern">Invalid email address.</span>
	        <span ng-show="users.email.$error.required">Email is required.</span> 
	    </span> 
	    <span ng-show="users.pass.$dirty && users.pass.$invalid"> 
	        <span ng-show="users.pass.$error.required">Password is required.</span> 
	    </span> 
	</div>

    <form name="users">
	    <table class="table-sm col-5 mx-auto">     
	        <tr><td>Email:</td>  
	            <td><input type="text" name="email" ng-model="email" ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,15}$/" required></td>
	        </tr>
	        <tr><td>Password:</td>  
	            <td><input type="password" name="pass" ng-model="pass" required></td>
	        </tr>
	        <tr><th colspan="2" class="text-center">
	        	<input type="submit" value=" Login " ng-click="dataMatch()"></th>
	        </tr>
		</table>
	    <div class="py-4 text-center">
	    	<b>Create an Account?<a href="register.html"> Registration</a></b>
	    </div>
	</form>
</div>
</div>
</body>
</html>